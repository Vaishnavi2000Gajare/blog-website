<html>

<head>
  <title>Login</title>
  <link rel="stylesheet" href="./style.css">
</head>



<body class="bg">
  <form class="form">
    <br>
    <h1 class="H" style="text-align:center;padding-bottom: 8px;">Login</h1>



    <div id="form_element">
      <input onkeyup="Email()" class="Bsize" type="email" placeholder="Enter Email" id="email" required>
      <p id="para3">please enter your Email</p>
    </div>



    <div id="form_element">
      <input onkeyup="Password()" class="Bsize" type="password" placeholder="Enter your password" id="password"
        required>
      <p id="para5">please enter Password</p>

    </div>

    <div id="form_element">
      <input type="button" class="button button2" value="Login" onclick="saveData()" id="submit">
      <p id="error"></p>

    </div>

  </form>

  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12">



      </div>
    </div>
  </div>
</body>


<script>

  function Password() {
    let password = document.getElementById("password").value;
    const re = /^(?=.*\d)(?=.*[A-Z]).{8,14}$/
    if (password === '' || password === 'undefined') {
      document.getElementById("password").style.border = "2px solid red";
      document.getElementById("para5").style.display = "block";

      return false
    }
    if (re.test(password)) {
      document.getElementById("password").style.border = "2px solid  green";
      document.getElementById("para5").style.display = "none";
      return true;
    }
    else {
      document.getElementById("password").style.border = "2px solid red";
      document.getElementById("para5").style.display = "block";
      return false;
    }
  }

  function Email() {
    let email = document.getElementById("email").value;
    const re =
      /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    if (email === "" || email === "undefined") {
      document.getElementById("email").style.border = "2px solid red";
      document.getElementById("para3").style.display = "block";
      return false;
    }
    if (re.test(String(email).toLowerCase())) {
      document.getElementById("email").style.border = "2px solid green";
      document.getElementById("para3").style.display = "none";
      return true;
    }
    else {
      document.getElementById("email").style.border = "2px solid red";
      document.getElementById("para3").style.display = "block";
      return false;
    }
  }
  var arr1 = JSON.parse(localStorage.getItem("users")) !== null ? JSON.parse(localStorage.getItem("users")) : [];
  function saveData() {
    //var email1=localStorage.getItem('email');
    var email = document.getElementById("email").value;
    var password = document.getElementById("password").value;
    if (Email() && Password()) {
      var val = 0;
      for (let i = 0; i < arr1.length; i++) {
        console.log(arr1[i].email+ " : " +email);
        console.log(arr1[i].password+ " : " +password);
        if (arr1[i].email == email && arr1[i].password == password) {
          val++;
        }
      }
      if (val != 0) {
        window.location.href = "blog.html";
        return true;
      } else {
        alert("enter valid email and password");
        return false;
      }
    } else {
      Email();
      Password();
      return false;
    }
  }


</script>

</html>